<!DOCTYPE html>

<html lang="en">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>New Tab</title>

  <script>
    //var messageID = Math.floor(Math.random()*7);
    //console.log(messageID);
    //var messageNormal = ["Funny message","Wow comedy","//give me api keys","epic!","wow. anyways do something","@everyone you should be working on the movie","css is pain"]
    //var messageSchool = ["school. it exists","off and away all day","Do some work or smth","Wow incredible","Mathspace lol","wow school so cool","school related message"]
    //var messageNight = ["Go to sleep","go to bed","ok bye slep time :bed:","should you really go to sleep? yes.","filler message, go to sleep","go to sleep you fool","sleep is essential"]
    function updateTime() {
        var currentTime = new Date();
        var hours = currentTime.getHours();
        var minutes = currentTime.getMinutes();
        var seconds = currentTime.getSeconds();
        var day = currentTime.getDay();
        var date = currentTime.getDate();
        var month = currentTime.getMonth();
        // convert day to text
        var days = [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
        ];
        var dayText = days[day];
        // add contraction to date
        var dateText = date + "";
        if (date === 1) {
          dateText = date + "st";
        } else if (date === 2) {
          dateText = date + "nd";
        } else if (date === 3) {
          dateText = date + "rd";
        } else if (date < 21) {
          dateText = date + "th";
        } else if (date === 22) {
          dateText = date + "nd";
        } else if (date === 23) {
          dateText = date + "rd";
        } else {
          dateText = date + "th";
        }

        // convert month to text
        var months = [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ];
        var monthText = months[month];
        // convert date to text

        // console.log(d_str);

        minutes = (minutes >= 10) ? minutes : "0" + minutes;
        seconds = (seconds >= 10) ? seconds : "0" + seconds;
        var d_str = dayText + ", " + dateText + " " + monthText;
        var t_str = hours + ":" + minutes// + ":" + seconds;
        //var messageArray = messageNormal;
        //if (hours >= 23 || hours <= 2) messageArray = messageNight;
        if (hours >= 8 && hours < 4 && day >= 1 & day <= 5) {
          //messageArray = messageSchool;
          if (document.getElementById("time")) {
            document.getElementById("mediaLinks").style.display = "none";
            document.getElementById("codingLinks").style.display = "none";
            document.getElementById("schoolLinks").innerHTML = document.getElementById("schoolLinks").innerHTML.split("<br>").join("&nbsp;".repeat(8));
            document.getElementById("schoolLinks").classList.add("funny");
          }
        }
        if (document.getElementById("time")) {
            document.getElementById("time").innerText = t_str;
            document.getElementById("date").innerText = d_str;
            //document.getElementById("funnymessage").innerText = messageArray[messageID];
        }
    }
    updateTime(); // immeditatelly runs the function, so that there is no lag
    setInterval(updateTime, 250);
  </script>

  <style>
    @import url(style.css);
  </style>

  <body>
    <div class="center">
      <p class="medium" id="weather"></p>
      <p class="large" id="time"></p>
      <p class="medium" id="date"></p>
      <div class="small" id="linksContainer">
        <div id="mediaLinks"><h2>media</h2><a href="https://youtube.com">youtube</a></div>
        <div id="schoolLinks"><h2>school</h2>
          <a href="https://connect.det.wa.edu.au">connect</a><br>
          <a href="https://outlook.office.com/mail/inbox">outlook</a>
        </div>
        <div id="codingLinks"><h2>coding</h2>
          <a href="https://github.com">github</a><br>
      </div>
    </div>
  </body>
</html>